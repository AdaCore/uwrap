import a.x;

template base_template {
    var content : text;
}

match Entity () {
    match (f_name ("A"))
    wrap with x.t_in_x ("x.t_in_x (\e<f_name>)\n");

    match (f_name ("B"))
    wrap with t_in_x ("a.x.t_in_x (\e<f_name>)\n");

    match (f_name ("B"))
    wrap with a.b.y.t_in_y ("a.b.y.t_in_y (\e<f_name>)\n");

    match (f_name ("A"))
    wrap with base_template ("base_template (\e<f_name>)\n");
}

match base_template ()
weave with standard.out ("base_template = \e<content>");

match x.t_in_x ()
weave with standard.out ("x.t_in_x = \e<content>");

match a.x.t_in_x ()
weave with standard.out ("a.x.t_in_x = \e<content>");

match a.b.y.t_in_y ()
weave with standard.out ("a.b.y.t_in_y = \e<content>");

match a.c.z.t_in_z ()
weave with standard.out ("a.c.z.t_in_z = \e<content>");

match t_in_x ()
weave with standard.out ("a.x.t_in_x = \e<content>");